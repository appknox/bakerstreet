syntax = "proto3";

package com.appknox.bakerstreet;

message Message {
  string Data  = 1;
  string Title = 2;
  string Description = 3;
}

message Packages {
  repeated string Name = 1;
}

message Device {
  string Uuid = 1;
  bool IsTablet = 2;
  int32 Platform = 3;
  string PlatformVersion = 4;
}

message Finding {
  string Title = 1;
  string Description = 2;
}

service Moriarty {
  rpc Echo(Message) returns (Message);
  rpc LaunchApp(Message) returns (Message);
  rpc ClearProxy(Message) returns (Message);
  rpc HealthCheck(Message) returns (Message);
  rpc RemovePackage(Message) returns (Message);
  rpc InstallPackage(Message) returns (Message);
  rpc ConfigureProxy(Message) returns (Message);
  rpc ConfigureGadget(Message) returns (Message);

  rpc Info(Message) returns (Device);
  rpc ListPackages(Message) returns (Packages);
}

service Mycroft {
  rpc Poll(Device) returns (Message);
  rpc PushFinding(Finding) returns (Message);
}
